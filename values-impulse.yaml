config:
  env:
    LOG_LEVEL: "DEBUG"
impulseConfig:
  incident:
    notifications:
      # Отключаем краткие уведомления о новых firing инцидентах
      # чтобы получать полные сообщения об инцидентах
      new_firing: false
  messenger:
    type: "telegram"
    # Required for Telegram: URL of Impulse instance for button callbacks (HTTPS only for Telegram)
    impulse_address: "https://impulse.apatsev.org.ru"
    admin_users: ["admin_user"]
    users:
      admin_user:
        id: "telegram_user_id"
    channels:
      incidents_default:
        id: "telegram_chat_id"

  route:
    channel: "incidents_default"

secrets:
  existing:
    telegram:
      secretName: "impulse-telegram-secrets"
      botTokenKey: "bot-token"
ingress:
  enabled: true
  className: nginx
  annotations:
    kubernetes.io/ingress.class: nginx
    cert-manager.io/cluster-issuer: letsencrypt-prod
    kubernetes.io/tls-acme: "true"
  hosts:
    - host: impulse.apatsev.org.ru
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: impulse-tls
      hosts:
        - impulse.apatsev.org.ru
